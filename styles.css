:root{
  --bg:#0f1720;
  --card:#0b1220;
  --accent:#06b6d4;
  --muted:#9aa6b2;
  --surface:#071023;
  --glass: rgba(255,255,255,0.03);
  --radius:12px;
  color-scheme: dark;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter, Roboto, system-ui, -apple-system, "Segoe UI", Arial;color:#e6eef6;background:linear-gradient(180deg,#071026 0%, #041024 100%);}

.topbar{
  display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:linear-gradient(0deg, rgba(255,255,255,0.02), transparent);
  border-bottom:1px solid rgba(255,255,255,0.02);
}
.topbar h1{font-size:1.1rem;margin:0}
.controls{display:flex;gap:8px;align-items:center}
.controls select, .controls button{padding:8px;border-radius:8px;border:0;background:var(--glass);color:var(--muted)}

main{display:flex;gap:16px;padding:16px;max-width:1100px;margin:12px auto;width:95%}
#cardArea{flex:1;min-height:60vh;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px}
#cardStack{width:100%;max-width:520px;min-height:320px;position:relative}
.card{width:100%;height:340px;border-radius:14px;background:var(--card);box-shadow:0 10px 30px rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center;touch-action:none;user-select:none;position:absolute;left:0;top:0}
.card-inner{width:100%;height:100%;border-radius:14px;transition:transform 220ms ease;transform-style:preserve-3d;position:relative;padding:24px;display:flex;flex-direction:column;justify-content:center}
.card-front,.card-back{position:absolute;inset:0;backface-visibility:hidden;padding:20px;overflow:auto}
.card-front{transform:rotateY(0);display:flex;align-items:center;font-size:1.25rem}
.card-back{transform:rotateY(180deg);background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);font-size:1rem;color:var(--muted)}
.card.flipped .card-inner{transform:rotateY(180deg)}
#actions{display:flex;gap:8px}
#actions button{padding:10px 14px;border-radius:10px;border:0;background:var(--glass);color:var(--muted)}

#side{width:300px;background:rgba(255,255,255,0.02);padding:12px;border-radius:10px;height:calc(60vh);overflow:auto}
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.4)}
.hidden{display:none}
.modal-content{background:#06101a;padding:16px;border-radius:12px;min-width:320px;max-width:520px;display:flex;flex-direction:column;gap:8px}
.modal textarea{min-height:70px;width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit}
.modal input{padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit}
.modal-actions{display:flex;justify-content:flex-end;gap:8px}
small{color:var(--muted)}

@media (max-width:900px){
  main{flex-direction:column}
  #side{width:100%;height:auto}
  .topbar{flex-direction:column;gap:8px;align-items:flex-start}
}
